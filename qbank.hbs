{{!< default}} <div
    class="px-4 pt-6 pb-16 mx-auto sm:max-w-xl md:max-w-full lg:max-w-screen-xl md:px-24 lg:px-8 lg:pt-0">
    <div class="text-lg max-w-prose mx-auto">
        {{#if @member}}
        <h1>
            <span class="mb-6 block text-3xl text-center leading-8 font-extrabold tracking-tight sm:text-4xl">
                Question Bank
            </span>
        </h1>

        <!-- Exam Creation Form -->
        <div class="mb-8 p-6 border border-gray-300 rounded-lg bg-white shadow-sm">
            <h2 class="text-xl font-bold mb-4 text-gray-800">Create New Exam</h2>
            <form id="create-exam-form" class="space-y-6">

                <!-- Number of Questions -->
                <div>
                    <label for="question-count" class="block text-sm font-semibold text-gray-700 mb-2">
                        Number of Questions
                    </label>
                    <select id="question-count" name="questionCount"
                        class="w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                        <option value="5">5 Questions</option>
                        <option value="10">10 Questions</option>
                        <option value="15">15 Questions</option>
                        <option value="20" selected>20 Questions</option>
                        <option value="25">25 Questions</option>
                        <option value="30">30 Questions</option>
                        <option value="35">35 Questions</option>
                        <option value="40">40 Questions</option>
                        <option value="45">45 Questions</option>
                        <option value="50">50 Questions</option>
                    </select>
                </div>

                <!-- Question Categories -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        Question Categories
                    </label>
                    <div id="categories-container" class="space-y-2">
                        <!-- Categories will be dynamically loaded here -->
                        <div class="text-gray-500 text-sm">Loading categories...</div>
                    </div>
                </div>

                <!-- Question Selection Type -->
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-2">
                        Question Selection
                    </label>
                    <div class="space-y-2">
                        <div class="flex items-center">
                            <input type="radio" id="selection-all" name="questionSelection" value="all" checked
                                class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <label for="selection-all" class="ml-2 text-sm text-gray-700">
                                All Questions
                            </label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="selection-unused" name="questionSelection" value="unused"
                                class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <label for="selection-unused" class="ml-2 text-sm text-gray-700">
                                Unused Questions Only
                            </label>
                        </div>
                        <div class="flex items-center">
                            <input type="radio" id="selection-missed" name="questionSelection" value="missed"
                                class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                            <label for="selection-missed" class="ml-2 text-sm text-gray-700">
                                Missed Questions Only
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="pt-4">
                    <button type="submit"
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-md transition duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                        Create Exam
                    </button>
                </div>

                <!-- Status Messages -->
                <div id="form-message" class="hidden"></div>
            </form>
        </div>

        <!-- Exam History Section -->
        <div class="mt-8 p-6 border border-gray-300 rounded-lg bg-white shadow-sm">
            <h2 class="text-xl font-bold mb-4 text-gray-800">Exam History</h2>
            <div id="exam-history" data-member-id="{{@member.uuid}}">
                <ul id="exam-list">
                </ul>
                <div class="text-gray-500 py-4 hidden" id="no-exams-message">No exam history found</div>
                <div class="text-red-500 py-4 hidden" id="error-message">Error loading exam history</div>
            </div>
        </div>

        <!-- Hidden template for exam items -->
        <template id="exam-item-template">
            <li class="mb-5">
                <div class="overflow-hidden transition-shadow duration-300 rounded">
                    <div class="py-5 px-4 border border-gray-200 rounded">
                        <div class="mb-3">
                            <div class="flex items-center justify-between mb-2">
                                <span
                                    class="text-base font-semibold tracking-wide text-gray-700 dark:text-gray-300 exam-date"></span>
                                <span
                                    class="inline-block px-3 py-1 text-xs font-semibold tracking-wide uppercase rounded bg-green-200 text-green-800 exam-status-complete hidden">Complete</span>
                                <span
                                    class="inline-block px-3 py-1 text-xs font-semibold tracking-wide uppercase rounded bg-yellow-200 text-yellow-800 exam-status-progress hidden">In
                                    Progress</span>
                            </div>
                            <p class="text-lg font-bold leading-5 mb-2">
                                <span class="text-2xl font-bold exam-question-count"></span>
                            </p>
                            <p class="text-sm text-gray-600 dark:text-gray-400 exam-tags">
                            </p>
                        </div>
                    </div>
                </div>
            </li>
        </template>
        {{/if}}
    </div>
    </div>