function buildChecks(){var t=document.getElementById("toc-list");if(t){var o,r=document.querySelectorAll("[data-slug]"),n=[location.pathname];let e;null!=(o=JSON.parse(localStorage.getItem("ugPrefs")))?n in o&&(e=o[n]):e={};for(tag of r){var a=document.createElement("li"),s=(a.className="toc-list-item",document.createElement("input")),i=(s.type="checkbox",s.value=tag.id,s.name=tag.textContent.trim(),s.addEventListener("click",checkBoxHandler.bind(null,s.value)),document.createElement("label"));i.htmlFor=s.value,i.textContent=tag.textContent.trim(),s.classList="mr-4 form-check text-primary-900 dark:text-accent-400 rounded",i.classList="text-primary-900 dark:text-accent-400 font-medium",t.appendChild(a),a.appendChild(s),a.appendChild(i),null!=e&&s.value in e&&(s.checked=!0)}firstRender()}}function checkBoxHandler(e,t){var o=getBoxes("CHECKED"),r=getBoxes("UNCHECKED"),n=getBoxes("CATEGORIES");if(0==o.length)n.forEach(e=>e.classList.remove("hidden"));else if(1==o.length)for(category of n)for(uncheck of r)category.dataset.visibility==uncheck.value&&category.classList.add("hidden");else document.querySelector(`[data-visibility=${CSS.escape(e)}]`).classList.toggle("hidden");setPreferences()}function firstRender(){var e=getBoxes("CHECKED");if(0<e.length)for(uncheck of getBoxes("UNCHECKED"))document.querySelector(`[data-visibility=${CSS.escape(uncheck.value)}]`).classList.toggle("hidden")}function setPreferences(){let e=JSON.parse(localStorage.getItem("ugPrefs"));null===e&&((e={})[location.pathname]={});var t={},o=getBoxes("CHECKED");if(0<o.length)for(check of o)t[""+check.value]=!0;e[location.pathname]=t,localStorage.setItem("ugPrefs",JSON.stringify(e))}function getBoxes(e){switch(e){case"CHECKED":return document.querySelectorAll("input:checked");case"UNCHECKED":return document.querySelectorAll("input:not(:checked)");case"CATEGORIES":return document.querySelectorAll("[data-visibility]");case"BOXES":return document.querySelectorAll('input[type="checkbox"]')}}function getPreferences(){return sanitizePreferences([location.pathname],2e3)}function sanitizePreferences(e,t){if(null===(r=localStorage.getItem("ugPrefs")))return{};if(r.length>t)return{};var o=[];for(categoryDiv of getBoxes("BOXES"))o.push(categoryDiv.value);var r,n={};for(initialPref in JSON.parse(localStorage.getItem("ugPrefs"))[e])o.includes(initialPref)&&(n[""+initialPref]=!0);return n}!function(a){"use strict";a.fn.fitVids=function(e){var t,o,n={customSelector:null,ignore:null};return document.getElementById("fit-vids-style")||(t=document.head||document.getElementsByTagName("head")[0],(o=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-container{flex-grow: 1;width:100%;}.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',t.appendChild(o.childNodes[1])),e&&a.extend(n,e),this.each(function(){var e=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"],r=(n.customSelector&&e.push(n.customSelector),".fitvidsignore"),e=(n.ignore&&(r=r+", "+n.ignore),a(this).find(e.join(",")));(e=(e=e.not("object object")).not(r)).each(function(){var e,t,o=a(this);0<o.parents(r).length||"embed"===this.tagName.toLowerCase()&&o.parent("object").length||o.parent(".fluid-width-video-wrapper").length||(o.css("height")||o.css("width")||!isNaN(o.attr("height"))&&!isNaN(o.attr("width"))||(o.attr("height",9),o.attr("width",16)),e=("object"===this.tagName.toLowerCase()||o.attr("height")&&!isNaN(parseInt(o.attr("height"),10))?parseInt(o.attr("height"),10):o.height())/(isNaN(parseInt(o.attr("width"),10))?o.width():parseInt(o.attr("width"),10)),o.attr("name")||(t="fitvid"+a.fn.fitVids._count,o.attr("name",t),a.fn.fitVids._count++),o.wrap('<div class="fluid-width-video-container"><div class="fluid-width-video-wrapper"></div></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*e+"%"),o.removeAttr("height").removeAttr("width"))})})},a.fn.fitVids._count=0}(window.jQuery||window.Zepto),$(".postItem:empty").parent().remove(),buildChecks(),window.addEventListener("DOMContentLoaded",function(){const n=document.querySelector("#create-exam-form"),o=document.querySelector("#form-message"),a=document.querySelector("#categories-container");function s(e,t){o&&(o.className="mt-4 p-4 rounded-md","success"===e?o.classList.add("bg-green-100","text-green-800","border","border-green-300"):"error"===e?o.classList.add("bg-red-100","text-red-800","border","border-red-300"):"info"===e&&o.classList.add("bg-blue-100","text-blue-800","border","border-blue-300"),o.textContent=t,o.classList.remove("hidden"),"info"===e)&&setTimeout(()=>{o.classList.add("hidden")},3e3)}n?(fetch("http://127.0.0.1:8000/api/v1/tags/").then(e=>{if(e.ok)return e.json();throw new Error("HTTP error! status: "+e.status)}).then(e=>{e&&0!==e.length?(a.innerHTML="",e.forEach((e,t)=>{var o=document.createElement("div"),r=(o.className="flex items-center","category-"+(e.id||t));const n=document.createElement("input");n.type="checkbox",n.id=r,n.name="categories",n.value=e.slug||e.name,n.setAttribute("data-tag-name",e.name),n.setAttribute("data-tag-id",e.id||t),n.className="exam-category h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded";t=document.createElement("label");t.htmlFor=r,t.className="ml-2 text-sm text-gray-700 cursor-pointer",t.textContent=e.name,o.addEventListener("click",function(e){e.target!==n&&(e.preventDefault(),n.checked=!n.checked)}),o.appendChild(n),o.appendChild(t),a.appendChild(o)})):a.innerHTML='<div class="text-red-500 text-sm">No categories available</div>'}).catch(e=>{console.error("Error loading categories:",e),a.innerHTML='<div class="text-red-500 text-sm">Failed to load categories</div>'}),n.addEventListener("submit",function(e){e.preventDefault();e=document.querySelector("#exam-history"),e=e?e.dataset.memberId:null;if(e){const r=document.querySelector("#question-count").value;var t=Array.from(document.querySelectorAll("input.exam-category:checked")).map(e=>({name:e.getAttribute("data-tag-name"),id:e.getAttribute("data-tag-id")})),o=document.querySelector('input[name="questionSelection"]:checked').value,e={member_id:e,question_count:parseInt(r),tags:t};"all"!==o&&(e.filters=[o]),console.log("Creating exam with data:",e),n.querySelector('button[type="submit"]').disabled=!0,fetch("http://127.0.0.1:8000/api/v1/exams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{if(e.ok)return e.json();throw new Error("HTTP error! status: "+e.status)}).then(e=>{s("success",`Exam created successfully with ${e.question_count||r} questions!`),n.reset(),window.loadExamHistory?setTimeout(()=>{window.loadExamHistory()},1e3):s("success","Exam created! Refresh the page to see it in your history.")}).catch(e=>{console.error("Error creating exam:",e),s("error","Failed to create exam. Please try again.")}).finally(()=>{n.querySelector('button[type="submit"]').disabled=!1})}else s("error","Member ID not found. Please log in again.")})):console.log("Exam creator form not found on this page")}),window.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#exam-history");if(e){var a=e.dataset.memberId;if(a){console.log("Member ID found:",a);let l=null,c=0;d();e=document.querySelector("#delete-all-exams");e&&e.addEventListener("click",function(){confirm("Are you sure you want to delete ALL exams? This action cannot be undone.")&&fetch(`http://127.0.0.1:8000/api/v1/exams/${a}/all`,{method:"DELETE"}).then(e=>{if(!e.ok)throw new Error("HTTP error! status: "+e.status);console.log("All exams deleted successfully"),d()}).catch(e=>{console.error("Error deleting all exams:",e),alert("Failed to delete all exams. Please try again.")})});{const r=document.querySelector("#exam-viewer-modal"),n=document.querySelector("#close-viewer"),s=document.querySelector("#prev-question"),i=document.querySelector("#next-question");n&&n.addEventListener("click",t);s&&s.addEventListener("click",()=>o(-1));i&&i.addEventListener("click",()=>o(1));r&&r.addEventListener("click",function(e){e.target===r&&t()})}function d(){const s=document.querySelector("#exam-list"),t=document.querySelector("#no-exams-message"),o=document.querySelector("#delete-all-exams"),r=document.querySelector("#error-message"),n=document.querySelector("#exam-loading"),i=document.querySelector("#exam-item-template");n&&n.classList.remove("hidden"),s&&(s.innerHTML=""),t&&t.classList.add("hidden"),r&&r.classList.add("hidden"),fetch("http://127.0.0.1:8000/api/v1/exams/user/"+a).then(e=>e.json()).then(e=>{console.log("Exam data:",e),n&&n.classList.add("hidden"),e&&e.exams&&0!==e.exams.length?(o.classList.remove("hidden"),s.innerHTML="",e.exams.sort((e,t)=>{e=new Date(e.started_at.endsWith("Z")?e.started_at:e.started_at+"Z");return new Date(t.started_at.endsWith("Z")?t.started_at:t.started_at+"Z")-e}).forEach(a=>{var e=a.started_at.endsWith("Z")?a.started_at:a.started_at+"Z",e=new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),t=a.tags?a.tags.map(e=>e.name).join(", "):"",o=a.question_count||a.questions?.length||0,r=a.completed_at||!1,n=i.content.cloneNode(!0),e=(n.querySelector(".exam-date").textContent=e,n.querySelector(".exam-question-count").textContent=1===o?o+" Question":o+" Questions",n.querySelector(".exam-tags").textContent=t,n.querySelector(".exam-status-complete")),o=n.querySelector(".exam-status-progress"),t=((r?e:o).classList.remove("hidden"),n.querySelector(".view-exam-btn"));r&&(t.classList.remove("hidden"),t.addEventListener("click",function(e){e.preventDefault();{e=a.id;const t=document.querySelector("#exam-viewer-modal"),o=document.querySelector("#viewer-loading"),r=document.querySelector("#viewer-error"),n=document.querySelector("#question-display");t&&(t.classList.remove("hidden"),o&&o.classList.remove("hidden"),r&&r.classList.add("hidden"),n&&n.classList.add("hidden"),fetch("http://127.0.0.1:8000/api/v1/exams/"+e).then(e=>{if(e.ok)return e.json();throw new Error("HTTP error! status: "+e.status)}).then(e=>{l=e,c=0,u(),o&&o.classList.add("hidden"),n&&n.classList.remove("hidden")}).catch(e=>{console.error("Error loading exam:",e),o&&o.classList.add("hidden"),r&&r.classList.remove("hidden")}))}})),n.querySelector(".delete-exam-btn").addEventListener("click",function(e){e.preventDefault(),e=a.id,confirm("Are you sure you want to delete this exam?")&&fetch("http://127.0.0.1:8000/api/v1/exams/"+e,{method:"DELETE"}).then(e=>{if(!e.ok)throw new Error("HTTP error! status: "+e.status);console.log("Exam deleted successfully"),d()}).catch(e=>{console.error("Error deleting exam:",e),alert("Failed to delete exam. Please try again.")})}),s.appendChild(n)}),t.classList.add("hidden")):(t.classList.remove("hidden"),o.classList.add("hidden"),s.innerHTML="")}).catch(e=>{console.error("Error fetching exams:",e),n&&n.classList.add("hidden"),r&&r.classList.remove("hidden")})}function t(){var e=document.querySelector("#exam-viewer-modal");e&&e.classList.add("hidden"),l=null,c=0}function o(e){l&&l.questions&&((c+=e)<0?c=0:c>=l.questions.length&&(c=l.questions.length-1),u())}function u(){if(console.log(l),l&&l.questions){const i=l.questions[c];var e=l.questions.length,t=document.querySelector("#current-question-num"),r=document.querySelector("#total-questions"),t=(t&&(t.textContent=c+1),r&&(r.textContent=e),document.querySelector("#prev-question")),r=document.querySelector("#next-question"),t=(t&&(t.disabled=0===c),r&&(r.disabled=c===e-1),document.querySelector("#question-text"));t&&(t.textContent=i.prompt||"Question text not available");{r=i;const s=document.querySelector("#question-media");if(s)if(s.innerHTML="",r.media_storage_path){s.classList.remove("hidden"),s.innerHTML='<div class="text-center py-4"><span class="text-gray-500">Loading image...</span></div>';let o=r.media_storage_path;firebase.storage().ref(o).getDownloadURL().then(e=>{var t;o.toLowerCase().endsWith(".mp4")||e.toLowerCase().includes(".mp4")?((t=document.createElement("video")).src=e,t.controls=!0,t.className="max-w-full h-auto rounded-lg shadow-md mb-4",t.style.maxWidth="100%",t.style.height="auto",t.style.borderRadius="0.5rem",t.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)",t.style.marginBottom="1rem",t.onerror=function(){console.error("Failed to load video from URL:",e),s.innerHTML='<div class="text-center py-4"><span class="text-red-500">Failed to display video</span></div>'},s.innerHTML="",s.appendChild(t)):((t=document.createElement("img")).src=e,t.alt="Question image",t.className="max-w-full h-auto rounded-lg shadow-md mb-4",t.style.maxWidth="100%",t.style.height="auto",t.style.borderRadius="0.5rem",t.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)",t.style.marginBottom="1rem",t.onerror=function(){console.error("Failed to load image from URL:",e),s.innerHTML='<div class="text-center py-4"><span class="text-red-500">Failed to display image</span></div>'},s.innerHTML="",s.appendChild(t))}).catch(e=>{console.error("Error loading question media:",e),console.error("Storage path attempted:",o),s.innerHTML='<div class="text-center py-4"><span class="text-red-500">Failed to load image: '+e.message+"</span></div>"})}else s.classList.add("hidden");else console.warn("Media container #question-media not found")}const d=document.querySelector("#answer-choices"),a=i.answer_choices;d&&a&&(d.innerHTML="",a.forEach((e,t)=>{var o=document.createElement("div"),r=(o.className="p-3 rounded transition-all",o.style.border="2px solid",e.is_correct),n=i.user_answer_id===e.id,a=(r&&n?(o.style.borderColor="#16a34a",o.style.backgroundColor="#dcfce7",o.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)"):r?(o.style.borderColor="#22c55e",o.style.backgroundColor="#f0fdf4"):n?(o.style.borderColor="#dc2626",o.style.backgroundColor="#fee2e2",o.style.boxShadow="0 4px 6px -1px rgba(0, 0, 0, 0.1)"):(o.style.borderColor="#d1d5db",o.style.backgroundColor="#f9fafb"),document.createElement("div")),s=(a.className="flex items-start",a.style.display="flex",a.style.alignItems="flex-start",document.createElement("span")),t=(s.className="font-semibold mr-2",s.style.fontWeight="600",s.style.marginRight="0.5rem",s.style.minWidth="1.5rem",s.textContent=String.fromCharCode(65+t)+".",document.createElement("span")),e=(t.className="flex-1",t.style.flex="1",t.textContent=e.answer_text||e.text,a.appendChild(s),a.appendChild(t),document.createElement("div"));e.className="mt-2 flex flex-wrap gap-2",e.style.marginTop="0.5rem",e.style.marginLeft="1.5rem",e.style.display="flex",e.style.flexWrap="wrap",e.style.gap="0.5rem",r&&((s=document.createElement("span")).className="inline-flex items-center px-2 py-1 text-xs font-semibold rounded",s.style.display="inline-flex",s.style.alignItems="center",s.style.padding="0.25rem 0.625rem",s.style.backgroundColor="#16a34a",s.style.color="white",s.style.borderRadius="0.25rem",s.style.fontSize="0.75rem",s.style.fontWeight="600",s.textContent="✓ Correct Answer",e.appendChild(s)),n&&((t=document.createElement("span")).className="inline-flex items-center px-2 py-1 text-xs font-semibold rounded",t.style.display="inline-flex",t.style.alignItems="center",t.style.padding="0.25rem 0.625rem",t.style.backgroundColor=r?"#2563eb":"#dc2626",t.style.color="white",t.style.borderRadius="0.25rem",t.style.fontSize="0.75rem",t.style.fontWeight="600",t.textContent=r?"✓ Your Answer":"✗ Your Answer",e.appendChild(t)),o.appendChild(a),0<e.childNodes.length&&o.appendChild(e),d.appendChild(o)}));var e=document.querySelector("#result-indicator"),t=document.querySelector("#result-icon"),r=document.querySelector("#result-text"),o=document.querySelector("#result-detail");if(e&&t&&r){const a=i.answer_choices;var n=a&&a.some(e=>e.is_correct&&e.id===i.user_answer_id);e.classList.remove("hidden","bg-green-50","bg-red-50","border-green-500","border-red-500"),e.style.display="block",n?(e.style.backgroundColor="#f0fdf4",e.style.borderLeft="4px solid #22c55e",e.style.padding="1rem",e.style.borderRadius="0.5rem",t.textContent="✓",t.style.fontSize="1.875rem",t.style.marginRight="0.75rem",t.style.color="#16a34a",r.textContent="Correct!",r.style.fontSize="1.25rem",r.style.fontWeight="700",r.style.color="#166534",o&&(o.textContent="You answered this question correctly.",o.style.fontSize="0.875rem",o.style.marginTop="0.25rem",o.style.color="#15803d")):(e.style.backgroundColor="#fef2f2",e.style.borderLeft="4px solid #ef4444",e.style.padding="1rem",e.style.borderRadius="0.5rem",t.textContent="✗",t.style.fontSize="1.875rem",t.style.marginRight="0.75rem",t.style.color="#dc2626",r.textContent="Incorrect",r.style.fontSize="1.25rem",r.style.fontWeight="700",r.style.color="#991b1b",o&&(o.textContent="Review the explanation below to understand the correct answer.",o.style.fontSize="0.875rem",o.style.marginTop="0.25rem",o.style.color="#b91c1c"))}n=document.querySelector("#explanation-text");n&&(n.textContent=i.explanation||"No explanation available for this question.")}}window.loadExamHistory=d}else console.error("No member ID found on #exam-history element")}});var firebaseConfig={apiKey:"AIzaSyCM0FHbolc3QT-PfoLixcoeVS3JoWhheEg",authDomain:"ultrasound-guidance.firebaseapp.com",projectId:"ultrasound-guidance",storageBucket:"ultrasound-guidance.firebasestorage.app",messagingSenderId:"947728965057",appId:"1:947728965057:web:32b2bb26469a78c9762340"};firebase.initializeApp(firebaseConfig);const firebaseDB=firebase.firestore(),firebaseStorage=firebase.storage(),firebaseAuth=firebase.auth();firebaseAuth.signInAnonymously().then(()=>{console.log("Firebase: Authenticated successfully")}).catch(e=>{console.error("Firebase: Authentication error:",e)}),window.firebaseStorage=firebaseStorage,window.firebaseAuth=firebaseAuth;var modal=document.getElementById("myModal"),formContainer=document.querySelector(".form"),submit=document.querySelector(".submit-form"),closeBtn=document.getElementById("closeBtn"),postData=document.querySelector("#post"),iframes=document.querySelectorAll("iframe"),formName="Default";function getForm(){firebaseDB.collection("forms").doc("Default").get().then(e=>{e.exists&&e.data().items.slice().reverse().forEach(e=>{e=`
            <label>${e.title}</label><br>
            <input type="text" style="width: 100%;" id="${e.itemId}" ></br>
            `;formContainer.insertAdjacentHTML("afterbegin",e)})}).catch(e=>{console.log("Error getting document:",e)})}closeBtn&&closeBtn.addEventListener("click",()=>{modal.style.display="none"}),window.onclick=function(e){e.target==modal&&(modal.style.display="none")},submit&&(submit.onclick=function(e){e.preventDefault();var e=document.querySelectorAll("input"),t={};e.forEach(e=>{t[e.id]={questionId:e.id,textAnswers:{answers:[{value:e.value}]}}}),player.getVideoId().then(e=>{firebaseDB.collection("formResponses").doc(formName).set({responses:{[postData.dataset.memberEmail]:firebase.firestore.FieldValue.arrayUnion({responseId:crypto.randomUUID(),videoId:e,createTime:(new Date).toISOString(),answers:t})}},{merge:!0}).then(()=>{modal.style.display="none"}).catch(e=>{console.error("Error submitting form: ",e)})})}),postData&&iframes&&iframes.forEach(e=>{var r=new Vimeo.Player(e);r.getVideoId().then(t=>{firebaseDB.collection("users").doc(postData.dataset.memberEmail).get().then(e=>{e.exists?(e=e.data().watchedVideosProgress[postData.dataset.postId][t].watchedSeconds,r.setCurrentTime(e).then(()=>{}).catch(e=>{e.name})):console.log("Unable to get Video watched seconds: No such document")}).catch(e=>{console.log("No document found:",e)})}),r.on("play",()=>{r.getVideoId().then(e=>{var t=document.querySelectorAll(".kg-embed-card").length;firebaseDB.collection("users").doc(postData.dataset.memberEmail).set({watchedVideosProgress:{[postData.dataset.postId]:{[e]:{postId:postData.dataset.postId,videoId:e},videoCount:t}}},{merge:!0}).catch(e=>{console.error("Error adding document: ",e)})})}),r.on("pause",()=>{r.getCurrentTime().then(o=>{r.getDuration().then(t=>{r.getVideoId().then(e=>{firebaseDB.collection("users").doc(postData.dataset.memberEmail).set({watchedVideosProgress:{[postData.dataset.postId]:{[e]:{watchedSeconds:o-5,progressPosition:o/t}}}},{merge:!0}).catch(e=>{console.error("Error updating document: ",e)})})})})}),r.on("ended",()=>{r.getCurrentTime().then(e=>{firebaseDB.collection("users").doc(postData.dataset.memberEmail).set({watchedVideos:{[postData.dataset.postId]:{watchedSeconds:60,progressPosition:1}}},{merge:!0}).then(()=>{r.off("pause")}).catch(e=>{console.error("Error updating document on end event: ",e)})})})}),function(e){e.addEventListener("DOMContentLoaded",function(){e.querySelectorAll(".kg-gallery-image img").forEach(function(e){var t=e.closest(".kg-gallery-image"),o=e.attributes.width.value,e=e.attributes.height.value;t.style.flex=o/e+" 1 0%"})})}((window,document)),function(t,o){var r,n,a,s,i,d,l,c=o.querySelector("link[rel=next]");function u(){var e;404===this.status?(t.removeEventListener("scroll",h),t.removeEventListener("resize",f)):(this.response.querySelectorAll("article.post-card").forEach(function(e){r.appendChild(o.importNode(e,!0))}),(e=this.response.querySelector("link[rel=next]"))?c.href=e.href:(t.removeEventListener("scroll",h),t.removeEventListener("resize",f)),l=o.documentElement.scrollHeight,s=a=!1)}function e(){var e;s||(i+d<=l-n?a=!1:(s=!0,(e=new t.XMLHttpRequest).responseType="document",e.addEventListener("load",u),e.open("GET",c.href),e.send(null)))}function m(){a||t.requestAnimationFrame(e),a=!0}function h(){i=t.scrollY,m()}function f(){d=t.innerHeight,l=o.documentElement.scrollHeight,m()}c&&(r=o.querySelector(".post-feed"))&&(s=a=!(n=300),i=t.scrollY,d=t.innerHeight,l=o.documentElement.scrollHeight,t.addEventListener("scroll",h,{passive:!0}),t.addEventListener("resize",f),m())}(window,document),window.addEventListener("load",function(){var e=document.querySelector(".postItem");e&&firebaseDB.collection("users").doc(e.dataset.memberEmail).get().then(e=>{if(e.exists){e=e.data().watchedVideosProgress;let r=1;Object.entries(e).forEach(([e,t])=>{t.videoCount&&(r=t.videoCount);let o=0;Object.entries(t).forEach(([,e])=>{e.progressPosition&&(o+=e.progressPosition)}),document.getElementById(e).style.setProperty("--progress-position",o/r)})}else console.log("No such document!")}).catch(e=>{console.log("Error getting document:",e)})});
//# sourceMappingURL=sonar.js.map